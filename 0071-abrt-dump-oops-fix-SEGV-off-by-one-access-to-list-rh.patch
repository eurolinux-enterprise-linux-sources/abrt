From bf1517ce4077c17ce12b76efabc68b34e5c7fc66 Mon Sep 17 00:00:00 2001
From: Jiri Moskovcak <jmoskovc@redhat.com>
Date: Thu, 12 Jul 2012 11:26:28 +0200
Subject: [PATCH 071/105] abrt-dump-oops: fix SEGV (off-by-one access to list)
 rhbz#814594

Signed-off-by: Denys Vlasenko <vda.linux@googlemail.com>
---
 src/plugins/abrt-dump-oops.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/plugins/abrt-dump-oops.c b/src/plugins/abrt-dump-oops.c
index 849ca4e..8a24458 100644
--- a/src/plugins/abrt-dump-oops.c
+++ b/src/plugins/abrt-dump-oops.c
@@ -137,7 +137,7 @@ static unsigned save_oops_to_dump_dir(GList *oops_list, unsigned oops_cnt)
 
     pid_t my_pid = getpid();
     unsigned errors = 0;
-    while (idx <= oops_cnt && --countdown != 0)
+    while (idx < oops_cnt && --countdown != 0)
     {
         char *first_line = (char*)g_list_nth_data(oops_list, idx++);
         char *second_line = (char*)strchr(first_line, '\n'); /* never NULL */
-- 
1.7.11.2

