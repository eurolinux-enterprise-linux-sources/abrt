From 040a4061119b3cb34652d529d7de4ff18736c692 Mon Sep 17 00:00:00 2001
From: Richard Marko <rmarko@redhat.com>
Date: Fri, 18 Jan 2013 14:32:26 +0100
Subject: [ABRT EL6 PATCH 178/197] abrt-python: add DEFAULT_DUMP_LOCATION to
 config

---
 src/python-problem/problem/Makefile.am | 8 +++++++-
 src/python-problem/problem/proxies.py  | 3 ++-
 2 files changed, 9 insertions(+), 2 deletions(-)

diff --git a/src/python-problem/problem/Makefile.am b/src/python-problem/problem/Makefile.am
index 9e79f34..83acbd5 100644
--- a/src/python-problem/problem/Makefile.am
+++ b/src/python-problem/problem/Makefile.am
@@ -1,3 +1,9 @@
-problem_PYTHON = __init__.py exception.py proxies.py tools.py watch.py
+problem_PYTHON = __init__.py exception.py proxies.py tools.py watch.py config.py
 
 problemdir = $(pythondir)/problem
+
+config.py: config.py.in
+	sed -e s,\@DEFAULT_DUMP_LOCATION\@,$(DEFAULT_DUMP_LOCATION),g \
+		$< >$@
+
+EXTRA_DIST = config.py.in
diff --git a/src/python-problem/problem/proxies.py b/src/python-problem/problem/proxies.py
index 8a85d25..a4cabb9 100644
--- a/src/python-problem/problem/proxies.py
+++ b/src/python-problem/problem/proxies.py
@@ -2,6 +2,7 @@ import os
 import logging
 import report
 
+import problem.config
 import problem.exception
 
 class DBusProxy(object):
@@ -122,7 +123,7 @@ class SocketProxy(object):
         raise NotImplementedError
 
 class FsProxy(object):
-    def __init__(self, directory='/var/tmp/abrt'):
+    def __init__(self, directory=problem.config.DEFAULT_DUMP_LOCATION):
         self.directory = directory
 
     def create(self, problem_dict):
-- 
1.8.2.1

